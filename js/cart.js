"use strict";require(["config"],function(){require(["jquery","header","footer","template","cookie"],function(i,t,e,a){function n(){var a=i(".choise"),t=i("#countMoeny"),n=0;i("#list-cart ul").each(function(t){var e=1;a.eq(t).hasClass("ac")&&(e=i(".utim_price").eq(t).html()*parseInt(i(".amount").eq(t).val())),n+=e}),t.html(n)}function o(){var a=[];i("#list-cart ul").each(function(t){var e={id:parseInt(i(this).attr("data-id")),simage1:i(this).find(".img-box").children("img").attr("src"),name:i(this).find(".name").html(),price:i(this).find(".utim_price").html(),num:i(this).find(".amount").val()};a.push(e)});var t=JSON.stringify(a);i.cookie("cart",t,{expires:30,path:"/"}),console.log(i.cookie("cart"))}i("header").load("/html/component/header.html .top-nav,.search,.center-nav",function(){t.nav(),t.welcome()});var c=[];if(i.cookie("cart")){var r=JSON.parse(i.cookie("cart"));c=r,console.log(r)}var s=a("cart-template",{prd:c});console.log(s),i("#list-cart").html(s),i(".choise").click(function(){i(this).hasClass("ac")?i(this).removeClass("ac"):i(this).addClass("ac"),n()}),i(".add_num").click(function(){i(this).prev().val(parseInt(i(this).prev().val())+1),console.log(parseInt(i(this).prev().val())),n(),o()}),i(".amount").blur(function(){n(),o()}),i(".reduce_num").click(function(){console.log(i(this).next().val()),1!==parseInt(i(this).next().val())&&(i(this).next().val(parseInt(i(this).next().val())-1),n(),o())}),i(".deleteBtn").click(function(){i(this).parent().parent().find("li").eq(0).find("span").removeClass("ac"),i(this).parent().parent().remove(),n(),o()}),i("footer").load("/html/component/footer.html",function(){n()})})});